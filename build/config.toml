[default.db]
project = "d-dodeka"
service_name = "db"
# must match <project>-<service_name>-1
container_name = "d-dodeka-db-1"
barman_server_name = "d-dodeka-db-1"
barman_backup_dir = "/dodeka_barman"
postgres_conf_dir = "/dodeka_conf"
init_dir = "/dodeka_init"
# metaconfig
image_name = "ghcr.io/dsav-dodeka/postgres"
version = "dev"
host_host = "127.0.0.1"
host_port = "3141"
container_port = "3141"
resources_source = "/postgres_host/db"
resources_target = "/dodeka-db"
volume_name = "db-volume"
network_name = "dodeka"
db_name = "dodeka"
db_user = "dodeka"
# using default
db_name_admin = "postgres"

[default.kv]
redisjson_version = "v2.0.5"
project = "ts-dodeka"
service_name = "kv"
# must match <project>-<service_name>-1
container_name = "ts-dodeka-kv-1"
# metaconfig
image_name = "ghcr.io/dsav-dodeka/redis"
version = "dev"
host_host = "127.0.0.1"
host_port = "6379"
container_port = "6379"
# must correspond to other containers
network_name = "dodeka"

[default.dev]
postgres_version = "latest"
redis_version = "latest"
db_password = "postpost"
barman_password = "barbar"
# temporary copy from above until add feature to indicate which env
host_host = "127.0.0.1"
host_port = "3141"
db_name = "dodeka"
db_user = "dodeka"

[default.server]
project = "s-dodeka"
service_name = "server"
# must match <project>-<service_name>-1
container_name = "s-dodeka-server-1"
# metaconfig
image_name = "ghcr.io/dsav-dodeka/server"
deps_image_name = "ghcr.io/dsav-dodeka/server-deps"
version = "dev"
host_host = "127.0.0.1"
host_port = "4241"
container_port = "4241"
# 4 below must either match the container addresses or host addresses
# Currently choice is made to communicate through Docker network
# In which case the host need to be project from above
# And ports the container_port from above
db_host = "d-dodeka-db-1"
db_port = "3141"
kv_host = "ts-dodeka-kv-1"
kv_port = "6379"
# must correspond to other containers
network_name = "dodeka"